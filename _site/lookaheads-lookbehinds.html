<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Javascript lookaheads and lookbehinds Â· Kinyanjui Wangonya</title> <meta name="description" content="Regular expressions (also called regex) are patterns used to match character combinations in strings. They help us work with strings in a very performant way."> <link rel="icon" href="https://wang0nya.github.io/assets/favicon.png"> <link rel="apple-touch-icon" href="https://wang0nya.github.io/assets/touch-icon.png"> <link rel="stylesheet" href="https://wang0nya.github.io/assets/core.css"> <link rel="canonical" href="https://wang0nya.github.io/lookaheads-lookbehinds"> <link rel="alternate" type="application/atom+xml" title="Kinyanjui Wangonya" href="https://wang0nya.github.io/feed.xml" /> </head> <body> <aside class="logo"> <a href="https://wang0nya.github.io/"> <img src="/assets/me.jpg" class="logo-avatar" alt="logo"> </a> <span class="logo-prompt code">Back home</span> </aside> <div id="content"> <article> <div class="center"> <h1 class="title">Javascript lookaheads and lookbehinds</h1> <time class="code">August 30, 2018</time> </div> <div class="divider"></div> <p>Regular expressions (also called regex) are patterns used to match character combinations in strings. They help us work with strings in a very performant way.</p> <p>By formulating regex with a special syntax, you can:</p> <ul> <li>search text in a string</li> <li>replace substrings in a string</li> <li>extract information from a string</li> </ul> <p>If all this is completely new to you, take a look at the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">mdn web docs</a> for more info.</p> <p>For this post, Iâ€™ll focus on one of the easier (and very useful) ways you can use regex.</p> <h4 id="lookaheads-match-a-string-depending-on-what-follows-it">Lookaheads: match a string depending on what follows it</h4> <h5 id="format-xy">Format: <code class="highlighter-rouge">x(?=y)</code></h5> <p><code class="highlighter-rouge">x(?=y)</code> matches â€˜xâ€™ only if â€˜xâ€™ is followed by â€˜yâ€™. Letâ€™s see an example:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// check to see if we have the right 'Kanye'</span>
<span class="c1">// /Kanye(?= West)/ : the string 'Kanye' must be followed by 'West'</span>

<span class="o">/</span><span class="nx">Kanye</span><span class="p">(?</span><span class="o">=</span> <span class="nx">West</span><span class="p">)</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye will be performing tonight'</span><span class="p">)</span> <span class="c1">// false. we cant really be sure it's the right Kanye</span>
<span class="o">/</span><span class="nx">Kanye</span><span class="p">(?</span><span class="o">=</span> <span class="nx">West</span><span class="p">)</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye East will be performing tonight'</span><span class="p">)</span> <span class="c1">// false. Kanye who???</span>
<span class="o">/</span><span class="nx">Kanye</span><span class="p">(?</span><span class="o">=</span> <span class="nx">West</span><span class="p">)</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye West will be performing tonight'</span><span class="p">)</span> <span class="c1">// true</span>
</code></pre></div></div> <p>You can also do <code class="highlighter-rouge">/Kanye(?= West | East)/</code> to match Kanye if itâ€™s followed by either â€˜Eastâ€™ or â€˜Westâ€™.</p> <h5 id="format-xy-1">Format: <code class="highlighter-rouge">x(?!y)</code></h5> <p><code class="highlighter-rouge">x(?!y)</code> performs the inverse operation, matching â€˜xâ€™ only if â€˜xâ€™ is <strong>not</strong> followed by â€˜yâ€™. This is called a negated lookahead.</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// we want a different 'Kanye'</span>
<span class="c1">// /Kanye(?! West)/ : the string 'Kanye' must not be followed by 'West'</span>

<span class="o">/</span><span class="nx">Kanye</span><span class="p">(?</span><span class="o">!</span> <span class="nx">West</span><span class="p">)</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye will be performing tonight'</span><span class="p">)</span> <span class="c1">// true. might be West, but I'll just take the risk and see</span>
<span class="o">/</span><span class="nx">Kanye</span><span class="p">(?</span><span class="o">!</span> <span class="nx">West</span><span class="p">)</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye East will be performing tonight'</span><span class="p">)</span> <span class="c1">// true. let's give the new guy a chance</span>
<span class="o">/</span><span class="nx">Kanye</span><span class="p">(?</span><span class="o">!</span> <span class="nx">West</span><span class="p">)</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye West will be performing tonight'</span><span class="p">)</span> <span class="c1">// false </span>
</code></pre></div></div> <h4 id="lookbehinds-match-a-string-depending-on-what-precedes-it">Lookbehinds: match a string depending on what precedes it</h4> <p><strong>This is an <a href="https://github.com/tc39/proposal-regexp-lookbehind">ES2018</a> feature</strong> ğŸ‰ğŸŠğŸš€ğŸ¸ğŸ¤˜ğŸ¾</p> <h5 id="format-yx">Format: <code class="highlighter-rouge">(?&lt;=y)x</code></h5> <p><code class="highlighter-rouge">(?&lt;=y)x</code> matches â€˜xâ€™ only if itâ€™s preceded by â€˜yâ€™</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// check to see if we have the right 'Kanye West'</span>
<span class="c1">// /(?&lt;= Kanye) West/ : the string 'West' must be preceded by 'Kanye'</span>

<span class="o">/</span><span class="p">(?</span><span class="o">&lt;=</span> <span class="nx">Kanye</span><span class="p">)</span> <span class="nx">West</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard West will be performing tonight'</span><span class="p">)</span> <span class="c1">// false. we cant really be sure it's the right West </span>
<span class="o">/</span><span class="p">(?</span><span class="o">&lt;=</span> <span class="nx">Kanye</span><span class="p">)</span> <span class="nx">West</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Keith West will be performing tonight'</span><span class="p">)</span> <span class="c1">// false </span>
<span class="o">/</span><span class="p">(?</span><span class="o">&lt;=</span> <span class="nx">Kanye</span><span class="p">)</span> <span class="nx">West</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye West will be performing tonight'</span><span class="p">)</span> <span class="c1">// true</span>
</code></pre></div></div> <h5 id="format-yx-1">Format: <code class="highlighter-rouge">(?&lt;!y)x</code></h5> <p><code class="highlighter-rouge">(?&lt;!y)x</code> matches â€˜xâ€™ only if itâ€™s <strong>not</strong> preceded by â€˜yâ€™</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// check to see if we have another 'West'</span>
<span class="c1">// /(?&lt;= Kanye) West/ : the string 'West' must be not be preceded by 'Kanye'</span>

<span class="o">/</span><span class="p">(?</span><span class="o">&lt;!</span> <span class="nx">Kanye</span><span class="p">)</span> <span class="nx">West</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard West will be performing tonight'</span><span class="p">)</span> <span class="c1">// true </span>
<span class="o">/</span><span class="p">(?</span><span class="o">&lt;!</span> <span class="nx">Kanye</span><span class="p">)</span> <span class="nx">West</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Keith West will be performing tonight'</span><span class="p">)</span> <span class="c1">// true </span>
<span class="o">/</span><span class="p">(?</span><span class="o">&lt;!</span> <span class="nx">Kanye</span><span class="p">)</span> <span class="nx">West</span><span class="o">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1">'I heard Kanye West will be performing tonight'</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div> <p>There you have it ğŸ˜„. Regex might be a bit hard to master, but once you do, youâ€™ll find that it makes working with strings so much easier.</p> </article> <div class="page-navigation code"> <a class="next" href="https://wang0nya.github.io/first-law-of-usability" title="NEXT: The first law of usability">&lt;&lt;</a> <span> &middot; </span> <a class="home" href="https://wang0nya.github.io/" title="Back to Index">Index</a> <span> &middot; </span> <a class="prev" href="https://wang0nya.github.io/array-iteration" title="PREV: Javascript array iteration with some() and every()">&gt;&gt;</a> </div> </div> <div class="footer"> <span class="block">&copy; 2018 Kinyanjui Wangonya</span> </div> </body> </html>
